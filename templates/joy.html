<!DOCTYPE HTML>
<html>
<head>
    <title>Joy</title>
    <meta charset="utf-8">
    <meta name="description" content="Página de ejemplo de uso de Joystick puro en JavaScript">
    <link rel="stylesheet" type="text/css" href="../static/css/stylesjoy.css">
    
</head>
<body>
	    <!-- Recuadro para el video -->
		<div class="cont_video">
			<img class="video" width="560" height="315" src="{{ url_for('video_feed') }}" width="50%"
			allowfullscreen></img>
		</div>
	
	<div class="button-container">
		<button class="button1">Botón 1</button><br />
		<button class="button2">Botón 2</button>
        <input type="number" min="0" max="120" value="0" id="sliderValue" >
        <input type="range" min="0" max="120"  value="0" id="slider">
	</div>

    <div id="controls">
        <div id="arrow-keys">
            <button class="arrow w" id="w">W</button>
            <button class="arrow a" id="a">A</button>
            <button class="arrow s" id="s">S</button>
            <button class="arrow d" id="d">D</button>
            <button class="arrow l" id="l">L</button>
            <button class="arrow k" id="k">K</button>
        </div>
        <div id="key-status">Última tecla presionada: </div>
    </div>
    <script src="../static/js/joy.min.js"></script>
    
     <script>
        
        const arrowButtons = document.querySelectorAll('.arrow');
        const keyStatus = document.getElementById('key-status');

        function activateButton(key) {
            const button = document.getElementById(key);
            if (button) {
                button.classList.add('active');
            }
        }

        function deactivateAllButtons() {
            arrowButtons.forEach(button => {
                button.classList.remove('active');
            });
        }

        document.addEventListener('keydown', function(event) {
            const key = event.key.toLowerCase();
            keyStatus.textContent = `Última tecla presionada: ${key.toUpperCase()}`;
            if (['w', 'a', 's', 'd', 'l', 'k'].includes(key)) {
                deactivateAllButtons();
                activateButton(key);
            }
        });

        document.addEventListener('keyup', function() {
            deactivateAllButtons();
        });

    </script>

    
</body>
</html>
